<div class="container mx-auto p-4 w-1/2">
    {% for message in messages %}
        <div id="message_item_{{ message.id }}" class="relative mb-4 p-4 rounded-lg shadow-md 
            {% if message.tags == 'error' %} bg-red-100 border border-red-400 text-red-700 
            {% elif message.tags == 'warning' %} bg-yellow-100 border border-yellow-400 text-yellow-700 
            {% elif message.tags == 'success' %} bg-green-100 border border-green-400 text-green-700 
            {% elif message.tags == 'info' %} bg-blue-100 border border-blue-400 text-blue-700 
            {% else %} bg-gray-100 border border-gray-400 text-gray-700 
            {% endif %}">
            <span class="font-bold">
                {% if message.tags == 'error' %} Error:
                {% elif message.tags == 'warning' %} Aviso:
                {% elif message.tags == 'success' %} Éxito:
                {% elif message.tags == 'info' %} Información:
                {% else %} Mensaje:
                {% endif %}
            </span> 
            {{ message }}
            <button id="message_close_{{ message.id }}" class="absolute top-0 right-0 mt-2 mr-2 text-gray-500 hover:text-gray-700 text-xl border border-gray-300 rounded-full">
                &times;
            </button>
        </div>
    {% endfor %}
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('[id^="message_close_"]').forEach(function(button) {
            button.addEventListener('click', function() {
                var messageId = this.id.replace('message_close_', 'message_item_');
                var messageElement = document.getElementById(messageId);
                if (messageElement) {
                    messageElement.classList.add('hidden');
                }
            });
        });
    });
</script>